<!DOCTYPE html>
<html lang="en-US" dir="ltr">
<head>
	<title>Web Config Alt</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
	<meta name="description" content="Web Config Alt - AI-powered alt text generator for images">
	<meta name="view-transition" content="same-origin">
	<link rel="stylesheet" href="/ui/base/index.css">
	<script type="importmap">
		{
			"imports": {
				"@browser.style/web-config-shared": "../web-config-shared/index.js"
			}
		}
	</script>
</head>
<body>
	<h1>Web Config: Alt Text</h1>
	<p>AI-powered alt text generator for images. Provide an image URL and generate descriptive alt text at different detail levels.</p>

	<fieldset style="margin-block-end:2ch;">
		<label>
			Worker URL
			<input type="url" id="workerUrl" placeholder="https://alt-text.stoumann.workers.dev" value="http://localhost:8787">
		</label>
		<label>
			API Key
			<input type="password" id="apiKey" placeholder="Enter your API key">
		</label>
		<label>
			Image URL
			<input type="url" id="imageSrc" placeholder="https://example.com/photo.jpg" value="https://picsum.photos/id/237/400/300.jpg">
		</label>
	</fieldset>
	

	<web-config-alt id="editor"></web-config-alt>

	<script type="module">
		import './src/index.js';

		const editor = document.getElementById('editor');
		const workerUrlInput = document.getElementById('workerUrl');
		const apiKeyInput = document.getElementById('apiKey');
		const imageSrcInput = document.getElementById('imageSrc');

		function update() {
			editor.workerUrl = workerUrlInput.value;
			editor.apiKey = apiKeyInput.value;
			editor.src = imageSrcInput.value;
		}

		workerUrlInput.addEventListener('input', update);
		apiKeyInput.addEventListener('input', update);
		imageSrcInput.addEventListener('input', update);

		editor.addEventListener('change', (e) => {
			console.log('Alt text generated:', e.detail);
		});

		update();
	</script>
</body>
</html>

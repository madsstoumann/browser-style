<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Web Config Robots Demo</title>
	<style>
		* {
			box-sizing: border-box;
		}

		body {
			font-family: system-ui, sans-serif;
			max-width: 1200px;
			margin: 0 auto;
			padding: 2rem;
			background: #f5f5f5;
		}

		h1 {
			color: #333;
			margin-bottom: 0.5rem;
		}

		.subtitle {
			color: #666;
			margin-bottom: 2rem;
		}

		.demo-section {
			background: white;
			padding: 2rem;
			border-radius: 0.5rem;
			box-shadow: 0 2px 8px rgba(0,0,0,0.1);
			margin-bottom: 2rem;
		}

		.demo-section h2 {
			margin-top: 0;
			color: #444;
			border-bottom: 2px solid #eee;
			padding-bottom: 0.5rem;
		}

		.info-box {
			background: #e3f2fd;
			border-left: 4px solid #2196f3;
			padding: 1rem;
			margin-bottom: 1rem;
			border-radius: 0.25rem;
		}

		.info-box h3 {
			margin-top: 0;
			color: #1976d2;
		}

		.info-box ul {
			margin: 0.5rem 0;
			padding-left: 1.5rem;
		}

		.info-box code {
			background: rgba(0,0,0,0.05);
			padding: 0.2em 0.4em;
			border-radius: 0.25rem;
			font-family: 'Courier New', monospace;
		}

		.event-log {
			background: #fafafa;
			border: 1px solid #ddd;
			border-radius: 0.5rem;
			padding: 1rem;
			max-height: 300px;
			overflow-y: auto;
			font-family: 'Courier New', monospace;
			font-size: 0.875rem;
		}

		.event-log h3 {
			margin-top: 0;
			font-family: system-ui, sans-serif;
		}

		.event-entry {
			padding: 0.5rem;
			border-bottom: 1px solid #eee;
			margin-bottom: 0.5rem;
		}

		.event-entry:last-child {
			border-bottom: none;
		}

		.event-time {
			color: #666;
			font-size: 0.8em;
		}

		.controls {
			display: flex;
			gap: 1rem;
			margin-bottom: 1rem;
			flex-wrap: wrap;
		}

		.controls button {
			padding: 0.5rem 1rem;
			background: #2196f3;
			color: white;
			border: none;
			border-radius: 0.25rem;
			cursor: pointer;
			font-size: 1rem;
		}

		.controls button:hover {
			background: #1976d2;
		}

		.controls button:active {
			transform: translateY(1px);
		}
	</style>
</head>
<body>
	<h1>ðŸ¤– Robots.txt Manager</h1>
	<p class="subtitle">A web component for managing robots.txt files visually</p>

	<div class="demo-section">
		<h2>Features</h2>
		<div class="info-box">
			<h3>How to Use</h3>
			<ul>
				<li><strong>Load existing robots.txt</strong> files using the <code>src</code> attribute</li>
				<li><strong>Preload bots</strong> using <code>allow</code> or <code>disallow</code> attributes pointing to external URLs</li>
				<li>Load bot lists dynamically (like the AI robots.txt repo)</li>
				<li>Organize bots into <strong>Allow</strong> and <strong>Disallow</strong> sections</li>
				<li>Add custom bot names manually</li>
				<li>Move bots between sections with the â‡„ button</li>
				<li>Remove bots with the Ã— button</li>
				<li>Quick-add buttons for fast configuration</li>
				<li>Manage sitemaps and crawl-delay settings</li>
				<li>Live robots.txt preview</li>
				<li>Event-driven with <code>robtxt-change</code> event</li>
			</ul>
		</div>
	</div>

	<div class="demo-section">
		<h2>Interactive Demo</h2>
		<div class="controls">
			<button onclick="loadExampleRobotsTxt()">Load Example robots.txt</button>
			<button onclick="loadAIBotsDisallow()">Load AI Bots (Disallow)</button>
			<button onclick="loadAIBotsAllow()">Load AI Bots (Allow)</button>
			<button onclick="blockAllAI()">Block All AI Bots</button>
			<button onclick="allowSearchEngines()">Allow Search Engines</button>
			<button onclick="clearAll()">Clear All</button>
			<button onclick="loadExample()">Load Example Config</button>
		</div>
		<div class="controls">
			<button onclick="switchLanguage('en')">English</button>
			<button onclick="switchLanguage('da')">Danish</button>
		</div>

		<web-config-robots id="manager" lang="en"></web-config-robots>
	</div>

	<div class="demo-section">
		<h2>Event Log</h2>
		<div class="event-log" id="eventLog">
			<h3>Listening for robtxt-change events...</h3>
			<p style="color: #666;">Make changes to see events appear here</p>
		</div>
	</div>

	<div class="demo-section">
		<h2>API Example</h2>
		<div class="info-box">
			<h3>HTML Attributes</h3>
			<pre><code>&lt;!-- Load existing robots.txt file --&gt;
&lt;robtxt-manager
  src="https://example.com/robots.txt"&gt;
&lt;/robtxt-manager&gt;

&lt;!-- Preload bots into allow section --&gt;
&lt;robtxt-manager
  allow="https://example.com/allowed-bots.txt"&gt;
&lt;/robtxt-manager&gt;

&lt;!-- Preload bots into disallow section --&gt;
&lt;robtxt-manager
  disallow="https://raw.githubusercontent.com/ai-robots-txt/ai.robots.txt/main/robots.txt"&gt;
&lt;/robtxt-manager&gt;

&lt;!-- Load both --&gt;
&lt;robtxt-manager
  allow="https://example.com/search-engines.txt"
  disallow="https://example.com/ai-bots.txt"&gt;
&lt;/robtxt-manager&gt;</code></pre>
		</div>
		<div class="info-box">
			<h3>JavaScript API</h3>
			<pre><code>// Get the component
const manager = document.querySelector('web-config-robots');

// Set configuration
manager.config = {
  allow: ['Googlebot', 'Bingbot'],
  disallow: ['GPTBot', 'CCBot']
};

// Get configuration
console.log(manager.config);

// Get robots.txt string
console.log(manager.robotsTxt);

// Parse from robots.txt string
await manager.fromString(robotsTxtString);

// Load existing robots.txt file
manager.setAttribute('src', 'https://example.com/robots.txt');

// Dynamically load bots into allow section
manager.setAttribute('allow', 'https://example.com/bots.txt');

// Dynamically load bots into disallow section
manager.setAttribute('disallow', 'https://example.com/ai-bots.txt');

// Listen for changes
manager.addEventListener('robtxt-change', (e) => {
  console.log('Config:', e.detail.config);
  console.log('Robots.txt:', e.detail.robotsTxt);
});</code></pre>
		</div>
	</div>

	<script type="module" src="./src/index.js"></script>
	<script>
		const manager = document.getElementById('manager');
		const eventLog = document.getElementById('eventLog');
		let eventCount = 0;

		// Listen for changes
		manager.addEventListener('robtxt-change', (e) => {
			eventCount++;
			const entry = document.createElement('div');
			entry.className = 'event-entry';
			entry.innerHTML = `
				<div class="event-time">[${new Date().toLocaleTimeString()}] Event #${eventCount}</div>
				<div>Allow: ${e.detail.config.allow.length} bots</div>
				<div>Disallow: ${e.detail.config.disallow.length} bots</div>
			`;
			eventLog.insertBefore(entry, eventLog.firstChild);

			// Keep only last 10 events
			while (eventLog.children.length > 11) { // 10 events + header
				eventLog.removeChild(eventLog.lastChild);
			}
		});

		// Demo functions
		function loadExampleRobotsTxt() {
			manager.setAttribute('src', './example-robots.txt');
		}

		function loadAIBotsDisallow() {
			manager.setAttribute('disallow', 'https://raw.githubusercontent.com/ai-robots-txt/ai.robots.txt/main/robots.txt');
		}

		function loadAIBotsAllow() {
			manager.setAttribute('allow', 'https://raw.githubusercontent.com/ai-robots-txt/ai.robots.txt/main/robots.txt');
		}

		function blockAllAI() {
			const aiBotsCommon = [
				'GPTBot',
				'ChatGPT-User',
				'CCBot',
				'Google-Extended',
				'anthropic-ai',
				'Claude-Web',
				'ClaudeBot',
				'Omgilibot',
				'FacebookBot',
				'Applebot-Extended',
				'cohere-ai',
				'PerplexityBot'
			];

			const currentConfig = manager.config;
			manager.config = {
				allow: currentConfig.allow,
				disallow: [...new Set([...currentConfig.disallow, ...aiBotsCommon])]
			};
		}

		function allowSearchEngines() {
			const searchEngines = [
				'Googlebot',
				'Bingbot',
				'Slurp',
				'DuckDuckBot',
				'Baiduspider',
				'YandexBot'
			];

			const currentConfig = manager.config;
			manager.config = {
				allow: [...new Set([...currentConfig.allow, ...searchEngines])],
				disallow: currentConfig.disallow.filter(bot => !searchEngines.includes(bot))
			};
		}

		function clearAll() {
			manager.config = { allow: [], disallow: [] };
		}

		function loadExample() {
			manager.config = {
				allow: ['Googlebot', 'Bingbot', 'DuckDuckBot'],
				disallow: ['GPTBot', 'CCBot', 'ChatGPT-User', 'Google-Extended']
			};
		}

		function switchLanguage(lang) {
			manager.setAttribute('lang', lang);
			manager.lang = lang;
			manager.render();
		}

		// Load example on page load
		window.addEventListener('load', () => {
			loadExample();
		});
	</script>
</body>
</html>

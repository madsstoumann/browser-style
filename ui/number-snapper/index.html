<!DOCTYPE html>
<html lang="en-US" dir="ltr">
<head>
	<title>Number Snapper</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
	<meta name="description" content="A customizable, accessible number snapper scroll web component with advanced formatting, snap points, and interactive scrolling.">
	<meta name="view-transition" content="same-origin">
	<link rel="stylesheet" href="/ui/base/index.css">
	<style>
		main {
			display: grid;
			row-gap: 2rem;
		}
		number-snapper {
			--number-snapper-w: 200cqi;
			--number-snapper-w-xs: 600cqi;
			--number-snapper-w-md: 400cqi;
		}
		number-snapper [slot="info"] {
			display: block;
			min-height: 3ch;
		}
		#storage {
			--number-snapper-ff: 'SF Mono', 'Fira Code', 'Consolas', 'Monaco', 'Courier New', monospace;
			--number-snapper-indicator-bg: light-dark(hsl(280, 70%, 40%), hsl(280, 60%, 75%));
			--number-snapper-indicator-w: 5px;
			--number-snapper-indicator-h: 3rem;
			--number-snapper-indicator-bdrs: 2px;
			--number-snapper-triangle-bg: light-dark(hsl(280, 70%, 40%), hsl(280, 60%, 75%));
			--number-snapper-triangle-h: 8px;
			--number-snapper-triangle-w: 16px;
			--number-snapper-major-tick-bg: light-dark(hsl(280, 70%, 70%), hsl(280, 40%, 25%));
			--number-snapper-major-tick-w: 3px;
			--number-snapper-major-tick-h: 100%;
			--number-snapper-major-tick-bdrs: 1px;
			--number-snapper-minor-tick-bg: light-dark(hsla(280, 100%, 60%, 0.4), hsla(280, 80%, 70%, 0.5));
			--number-snapper-minor-tick-w: 1px;
			--number-snapper-minor-tick-h: 50%;
			--number-snapper-minor-tick-bdrs: 0;
			--number-snapper-legend-c: light-dark(hsl(280, 70%, 40%), hsl(280, 60%, 75%));
			--number-snapper-legend-fw: 600;
			--number-snapper-legend-fs: 0.75rem;
			--number-snapper-output-c: light-dark(hsl(280, 70%, 40%), hsl(280, 60%, 75%));
		}
		#temperature::part(scroll-snap) {
			position: relative;
			padding-block-end: 1rem;
		}
		#temperature::part(scroll-snap)::after {
			content: '';
			position: absolute;
			inset: auto 0 .33rem 0;
			height: 4px;
			background: linear-gradient(to right,
				hsl(240, 100%, 60%) 0%, 
				hsl(220, 100%, 65%) 10%,
				hsl(200, 100%, 60%) 20%,
				hsl(180, 80%, 55%) 30%,
				hsl(160, 70%, 50%) 40%,
				hsl(140, 60%, 50%) 50%,
				hsl(80, 70%, 50%) 60%,
				hsl(40, 90%, 55%) 70%,
				hsl(20, 100%, 55%) 80%,
				hsl(10, 100%, 55%) 90%,
				hsl(0, 100%, 55%) 100%
			);
			border-radius: .33rem;
		}
		#timeline {
			--number-snapper-ff: Charter, 'Bitstream Charter', 'Sitka Text', Cambria, serif;
			--number-snapper-indicator-bg: light-dark(#8b4513, #b8733f);
			--number-snapper-indicator-bdrs: 5px;
			--number-snapper-indicator-w: 5px;
			--number-snapper-indicator-h: 3rem;
			--number-snapper-triangle-bg: light-dark(#2c1810, #6b4423);
			--number-snapper-triangle-h: 8px;
			--number-snapper-triangle-w: 14px;
			--number-snapper-major-tick-bg: light-dark(#8b4513, #b8733f);
			--number-snapper-major-tick-bdrs: 5px;
			--number-snapper-major-tick-w: 5px;
			--number-snapper-minor-tick-bg: light-dark(#d2b48c, #c9a571);
			--number-snapper-minor-tick-bdrs: 2px;
			--number-snapper-minor-tick-w: 2px;
			--number-snapper-minor-tick-h: 50%;
			--number-snapper-legend-c: light-dark(#5d4037, #bc8a7e);
			--number-snapper-legend-fw: 600;
			--number-snapper-legend-fs: 0.875rem;
		}
		</style>
</head>
<body>

	<h1>UI: Components</h1>

	<h2>Number Snapper</h2>
	<p>
		<strong>Number Snapper</strong> is a customizable, accessible web component that transforms the standard range input into an interactive scrolling interface. It supports advanced number formatting (currency, units, percentages), configurable snap points for precise value selection, and smooth scroll interaction.
	</p>

	<main>
		<h3>Snaps to all ticks</h3>
		<number-snapper
			currency="USD"
			format="currency"
			interval="5"
			label="Your monthly salary"
			lang="en-US"
			max="25000"
			min="0"
			snap="all"
			step="500"
			ticks="100"
			value="5000">
			<small slot="info"></small>
		</number-snapper>

		<h3>Snap to value-ticks only</h3>
		<number-snapper
			id="timeline"
			label="Timeline: 20th Century"
			min="1900"
			max="2000"
			step="1"
			value="1900"
			snap="value"
			snap="value"
			ticks="100">
			<small slot="info"></small>
		</number-snapper>

		<h3>Snap to major ticks</h3>
		<number-snapper
			id="temperature"
			format="unit"
			interval="10"
			label="Temperature"
			lang="en-GB"
			snap="major"
			step="10"
			ticks="100"
			unit="celsius"
			value="10">
			<small slot="info"></small>
		</number-snapper>

		<h3>No snap</h3>
		<number-snapper
			id="storage"
			decimals="1"
			format="unit"
			interval="4"
			label="Storage Capacity:"
			lang="en-US"
			max="128" 
			snap="none"
			step="0.25"
			ticks="128"
			unit="gigabyte"
			value="32">
		</number-snapper>

	</main>

	<script type="module" src="./index.js"></script>

	<script>
		const snapper = document.querySelector('number-snapper');
		const info = snapper.querySelector('[slot="info"]');

		snapper.addEventListener('change', (e) => {
			const annual = e.detail.value * 12;
			info.textContent = `Annual salary: ${new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(annual)}`;
		});

		const timeline = document.querySelector('#timeline');
		const timelineInfo = timeline.querySelector('[slot="info"]');

		const events = {
			1900: 'Turn of the century',
			1903: 'Wright Brothers first flight',
			1905: 'Einstein publishes Theory of Relativity',
			1910: 'Mexican Revolution begins',
			1912: 'Titanic sinks',
			1914: 'Start of World War I',
			1915: 'Armenian Genocide begins',
			1917: 'Russian Revolution',
			1918: 'End of World War I',
			1920: 'Women gain right to vote in US',
			1922: 'Discovery of King Tut\'s tomb',
			1925: 'Scopes Monkey Trial',
			1927: 'First transatlantic flight by Lindbergh',
			1929: 'Wall Street Crash, Great Depression begins',
			1930: 'Gandhi\'s Salt March',
			1933: 'Hitler comes to power in Germany',
			1935: 'Social Security Act in US',
			1936: 'Spanish Civil War begins',
			1939: 'Start of World War II',
			1940: 'Battle of Britain',
			1941: 'Attack on Pearl Harbor',
			1945: 'End of World War II, Atomic bombs dropped',
			1947: 'India gains independence',
			1948: 'State of Israel founded',
			1950: 'Korean War begins',
			1953: 'DNA structure discovered',
			1955: 'Montgomery Bus Boycott',
			1957: 'Sputnik launches Space Age',
			1960: 'African independence year',
			1961: 'Berlin Wall erected',
			1963: 'JFK assassination',
			1964: 'Civil Rights Act passed',
			1965: 'Vietnam War escalates',
			1967: 'Six-Day War',
			1968: 'Martin Luther King Jr. assassinated',
			1969: 'Apollo 11 Moon Landing',
			1970: 'Environmental movement grows',
			1973: 'End of Vietnam War',
			1975: 'Fall of Saigon',
			1979: 'Iranian Revolution',
			1980: 'Solidarity movement in Poland',
			1985: 'Gorbachev introduces Glasnost',
			1986: 'Chernobyl disaster',
			1989: 'Fall of the Berlin Wall',
			1990: 'German reunification',
			1991: 'Dissolution of Soviet Union',
			1994: 'End of Apartheid in South Africa',
			1995: 'World Wide Web becomes mainstream',
			1997: 'Hong Kong returned to China',
			1999: 'Euro currency introduced',
			2000: 'Y2K, new millennium begins'
		};

		// Wait for the custom element to be defined and upgraded
		customElements.whenDefined('number-snapper').then(() => {
			timeline.data = events;

			// Update the li elements with title attributes
			const timelineTicks = timeline.shadowRoot.querySelectorAll('li[value]');
			timelineTicks.forEach(li => {
				const value = li.getAttribute('value');
				if (events[value]) {
					li.setAttribute('title', events[value]);
				}
			});

			timeline.addEventListener('change', (e) => {
				const year = e.detail.value;
				const event = events[year];
				timelineInfo.textContent = event || '';
			});
		});
	</script>
</body>
</html>
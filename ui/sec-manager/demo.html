<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Security.txt Manager Demo</title>
	<style>
		body {
			font-family: system-ui, sans-serif;
			max-width: 800px;
			margin: 2rem auto;
			padding: 0 1rem;
			line-height: 1.5;
		}
		h1 { margin-bottom: 2rem; }
		sec-manager { margin-bottom: 2rem; }
	</style>
</head>
<body>
	<h1>Security.txt Manager Demo</h1>

	<h2>Basic Usage</h2>
	<sec-manager></sec-manager>

	<h2>Pre-filled Configuration</h2>
	<sec-manager
		initial-config='{
			"contact": ["mailto:security@example.com", "https://example.com/security-contact"],
			"expires": "2025-12-31T23:59:00.000Z",
			"preferredLanguages": "en, da"
		}'
	></sec-manager>

	<h2>Load from File</h2>
	<p>Loads configuration from <code>./security.txt</code></p>
	<sec-manager src="./security.txt"></sec-manager>

	<h2>Danish Localization</h2>
	<sec-manager lang="da"></sec-manager>

	<h2>Load from Value Attribute</h2>
	<p>Simulates loading from a CMS text field.</p>
	<div style="margin-bottom: 1rem;">
		<textarea id="cms-input" rows="5" style="width: 100%; font-family: monospace;">Contact: mailto:cms@example.com
Expires: 2026-01-01T00:00:00.000Z</textarea>
		<br>
		<button id="update-cms" style="margin-top: 0.5rem;">Update Component</button>
	</div>
	<sec-manager id="cms-manager"></sec-manager>

	<script type="module" src="./src/index.js"></script>
	<script>
		document.querySelectorAll('sec-manager').forEach(manager => {
			manager.addEventListener('sec-change', (e) => {
				console.log('Security.txt changed:', e.detail);
			});
		});

		// CMS Demo Logic
		const cmsInput = document.getElementById('cms-input');
		const cmsManager = document.getElementById('cms-manager');
		const updateBtn = document.getElementById('update-cms');

		if (cmsInput && cmsManager && updateBtn) {
			updateBtn.addEventListener('click', () => {
				cmsManager.setAttribute('value', cmsInput.value);
			});
			// Initial load
			cmsManager.setAttribute('value', cmsInput.value);
		}
	</script>
</body>
</html>

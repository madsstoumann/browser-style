<!DOCTYPE html>
<html lang="da-DK" dir="ltr">
<head>
	<title>Number Snapper</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
	<meta name="description" content="">
	<style>
		number-snapper {
			--number-snapper-w: 200cqi;
			--number-snapper-w-xs: 600cqi;
			--number-snapper-w-md: 400cqi;
		}
		</style>
</head>
<body>

	<!-- BASIC -->
	 <number-snapper
	 	currency="USD"
		format="currency"
		interval="5"
	 	label="Your monthly salary"
		lang="en-US"
	 	max="25000"
		min="0"
	 	snap="all"
	 	step="500"
		ticks="100"
	 	value="5000">
		<small slot="info"></small>
	</number-snapper>

	<hr>
	<number-snapper
		id="timeline"
		label="Historical Events"
		min="1900"
		max="2000"
		step="1"
		value="1900"
		snap="value"
		snap="value"
		ticks="100">
		<small slot="info"></small>
	</number-snapper>


	<script type="module" src="./index.js"></script>

	<script>
		const snapper = document.querySelector('number-snapper');
		const info = snapper.querySelector('[slot="info"]');

		snapper.addEventListener('change', (e) => {
			const annual = e.detail.value * 12;
			info.textContent = `Annual salary: ${new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(annual)}`;
		});

		const timeline = document.querySelector('#timeline');
		const timelineInfo = timeline.querySelector('[slot="info"]');

		const events = {
			1900: 'Turn of the century',
			1903: 'Wright Brothers first flight',
			1905: 'Einstein publishes Theory of Relativity',
			1910: 'Mexican Revolution begins',
			1912: 'Titanic sinks',
			1914: 'Start of World War I',
			1915: 'Armenian Genocide begins',
			1917: 'Russian Revolution',
			1918: 'End of World War I',
			1920: 'Women gain right to vote in US',
			1922: 'Discovery of King Tut\'s tomb',
			1925: 'Scopes Monkey Trial',
			1927: 'First transatlantic flight by Lindbergh',
			1929: 'Wall Street Crash, Great Depression begins',
			1930: 'Gandhi\'s Salt March',
			1933: 'Hitler comes to power in Germany',
			1935: 'Social Security Act in US',
			1936: 'Spanish Civil War begins',
			1939: 'Start of World War II',
			1940: 'Battle of Britain',
			1941: 'Attack on Pearl Harbor',
			1945: 'End of World War II, Atomic bombs dropped',
			1947: 'India gains independence',
			1948: 'State of Israel founded',
			1950: 'Korean War begins',
			1953: 'DNA structure discovered',
			1955: 'Montgomery Bus Boycott',
			1957: 'Sputnik launches Space Age',
			1960: 'African independence year',
			1961: 'Berlin Wall erected',
			1963: 'JFK assassination',
			1964: 'Civil Rights Act passed',
			1965: 'Vietnam War escalates',
			1967: 'Six-Day War',
			1968: 'Martin Luther King Jr. assassinated',
			1969: 'Apollo 11 Moon Landing',
			1970: 'Environmental movement grows',
			1973: 'End of Vietnam War',
			1975: 'Fall of Saigon',
			1979: 'Iranian Revolution',
			1980: 'Solidarity movement in Poland',
			1985: 'Gorbachev introduces Glasnost',
			1986: 'Chernobyl disaster',
			1989: 'Fall of the Berlin Wall',
			1990: 'German reunification',
			1991: 'Dissolution of Soviet Union',
			1994: 'End of Apartheid in South Africa',
			1995: 'World Wide Web becomes mainstream',
			1997: 'Hong Kong returned to China',
			1999: 'Euro currency introduced',
			2000: 'Y2K, new millennium begins'
		};

		// Wait for the custom element to be defined and upgraded
		customElements.whenDefined('number-snapper').then(() => {
			timeline.data = events;

			// Update the li elements with title attributes
			const timelineTicks = timeline.shadowRoot.querySelectorAll('li[value]');
			timelineTicks.forEach(li => {
				const value = li.getAttribute('value');
				if (events[value]) {
					li.setAttribute('title', events[value]);
				}
			});

			timeline.addEventListener('change', (e) => {
				const year = e.detail.value;
				const event = events[year];
				timelineInfo.textContent = event || '';
			});
		});
	</script>
</body>
</html>